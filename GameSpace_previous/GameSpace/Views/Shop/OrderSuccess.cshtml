@model OrderInfo
@{
    ViewData["Title"] = "è¨‚å–®æˆåŠŸ - GameSpace";
    Layout = "_Layout";
}

<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>è¨‚å–®æˆåŠŸ - GameSpace</title>
    <style>
        :root{
            --bg:#eef3f8; --bg2:#ffffff; --ink:#1f2937; --muted:#64748b; --line:#e5e7eb;
            --surface:rgba(255,255,255,.75); --glass:rgba(255,255,255,.45);
            --accent:#7557ff; --accent-2:#34d2ff; --accent-3:#22c55e;
            --radius:18px; --radius-sm:12px; --shadow:0 18px 40px rgba(17,24,39,.12);
            --blur:14px;
        }
        body.dark{
            --bg:#0c111b; --bg2:#0a0f18; --ink:#e5edff; --muted:#9fb1c9; --line:#1e2b43;
            --surface:rgba(22,30,48,.65); --glass:rgba(18,24,39,.50);
            --shadow:0 18px 42px rgba(0,0,0,.35);
        }
        *{box-sizing:border-box} html,body{height:100%}
        body{
            margin:0; color:var(--ink); font:16px/1.65 system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans TC","PingFang TC","Microsoft JhengHei",sans-serif;
            background:
                radial-gradient(900px 500px at -10% -10%, rgba(117,87,255,.10), transparent 60%),
                radial-gradient(800px 460px at 110% 10%, rgba(52,210,255,.10), transparent 50%),
                linear-gradient(180deg, var(--bg), var(--bg2));
        }
        .wrap{max-width:800px; margin:0 auto; padding:0 16px}
        
        /* æˆåŠŸé é¢å®¹å™¨ */
        .success-container{
            background:var(--glass); border:1px solid var(--line); border-radius:20px; 
            padding:60px 40px; backdrop-filter:blur(var(--blur)); box-shadow:var(--shadow);
            margin:30px 0; text-align:center;
        }
        
        .success-icon{
            font-size:80px; margin-bottom:30px; animation:bounce 2s infinite;
        }
        @keyframes bounce{
            0%, 20%, 50%, 80%, 100%{transform:translateY(0)}
            40%{transform:translateY(-10px)}
            60%{transform:translateY(-5px)}
        }
        
        .success-title{
            font-size:36px; font-weight:900; color:var(--ink); margin-bottom:20px;
        }
        .success-message{
            font-size:18px; color:var(--muted); margin-bottom:40px; line-height:1.6;
        }
        
        /* è¨‚å–®è³‡è¨Š */
        .order-info{
            background:var(--surface); border:1px solid var(--line); border-radius:15px;
            padding:30px; margin:40px 0; text-align:left;
        }
        .info-title{font-size:24px; font-weight:700; color:var(--ink); margin-bottom:20px; text-align:center}
        .info-grid{display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-bottom:20px}
        .info-item{display:flex; justify-content:space-between; align-items:center; padding:10px 0; border-bottom:1px solid var(--line)}
        .info-label{font-weight:700; color:var(--ink)}
        .info-value{color:var(--muted)}
        
        /* è¨‚å–®å•†å“ */
        .order-items{
            background:var(--glass); border:1px solid var(--line); border-radius:12px;
            padding:20px; margin:20px 0;
        }
        .items-title{font-size:18px; font-weight:700; color:var(--ink); margin-bottom:15px}
        .item-list{display:grid; gap:10px}
        .item-row{
            display:grid; grid-template-columns:1fr auto auto; gap:15px; align-items:center;
            padding:15px; background:var(--surface); border-radius:8px;
        }
        .item-name{font-weight:700; color:var(--ink)}
        .item-quantity{color:var(--muted); text-align:center}
        .item-price{font-weight:700; color:var(--accent); text-align:right}
        
        .order-total{
            display:flex; justify-content:space-between; align-items:center;
            padding:20px; background:var(--accent); color:#fff; border-radius:12px;
            font-size:20px; font-weight:700; margin-top:20px;
        }
        
        /* æ“ä½œæŒ‰éˆ• */
        .action-buttons{
            display:flex; gap:20px; justify-content:center; margin-top:40px;
        }
        .action-btn{
            padding:15px 30px; border-radius:12px; font-weight:700; cursor:pointer;
            transition:all 0.3s ease; text-decoration:none; display:inline-block;
        }
        .btn-primary{
            background:linear-gradient(135deg,var(--accent),#3b82f6); color:#fff;
        }
        .btn-primary:hover{transform:translateY(-2px); box-shadow:0 8px 25px rgba(117,87,255,0.4)}
        .btn-secondary{
            background:var(--surface); color:var(--ink); border:2px solid var(--line);
        }
        .btn-secondary:hover{background:var(--line)}
    </style>
</head>
<body>
    <div class="wrap">
        <div class="success-container">
            <div class="success-icon">ğŸ‰</div>
            <h1 class="success-title">è¨‚å–®æäº¤æˆåŠŸï¼</h1>
            <p class="success-message">
                æ„Ÿè¬æ‚¨çš„è³¼è²·ï¼æ‚¨çš„è¨‚å–®å·²æˆåŠŸæäº¤ï¼Œæˆ‘å€‘å°‡ç›¡å¿«ç‚ºæ‚¨è™•ç†ã€‚<br>
                è¨‚å–®è©³æƒ…å·²ç™¼é€è‡³æ‚¨çš„ä¿¡ç®±ï¼Œè«‹æ³¨æ„æŸ¥æ”¶ã€‚
            </p>
            
            <div class="order-info">
                <h2 class="info-title">è¨‚å–®è©³æƒ…</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">è¨‚å–®ç·¨è™Ÿ</span>
                        <span class="info-value">#@Model.OrderCode</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">ä¸‹å–®æ™‚é–“</span>
                        <span class="info-value">@Model.CreatedAt.ToString("yyyy/MM/dd HH:mm")</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">è¨‚å–®ç‹€æ…‹</span>
                        <span class="info-value">@GetStatusText(Model.OrderStatus)</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">ä»˜æ¬¾ç‹€æ…‹</span>
                        <span class="info-value">@(Model.Paid ? "å·²ä»˜æ¬¾" : "å¾…ä»˜æ¬¾")</span>
                    </div>
                </div>
                
                <div class="order-items">
                    <h3 class="items-title">è¨‚å–®å•†å“</h3>
                    <div class="item-list">
                        @foreach (var item in Model.OrderItems)
                        {
                            <div class="item-row">
                                <div class="item-name">@item.Product.ProductName</div>
                                <div class="item-quantity">x @item.Quantity</div>
                                <div class="item-price">NT$ @((item.UnitPrice * item.Quantity).ToString("N0"))</div>
                            </div>
                        }
                    </div>
                    <div class="order-total">
                        <span>è¨‚å–®ç¸½é¡</span>
                        <span>NT$ @Model.OrderTotal.ToString("N0")</span>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <a href="/Shop/MyOrders" class="action-btn btn-primary">æŸ¥çœ‹æˆ‘çš„è¨‚å–®</a>
                <a href="/Shop" class="action-btn btn-secondary">ç¹¼çºŒè³¼ç‰©</a>
            </div>
        </div>
    </div>
</body>
</html>

@functions {
    private string GetStatusText(string status)
    {
        return status switch
        {
            "å¾…ä»˜æ¬¾" => "å¾…ä»˜æ¬¾",
            "å·²ä»˜æ¬¾" => "å·²ä»˜æ¬¾",
            "å·²å‡ºè²¨" => "å·²å‡ºè²¨",
            "å·²å®Œæˆ" => "å·²å®Œæˆ",
            "å·²å–æ¶ˆ" => "å·²å–æ¶ˆ",
            _ => status
        };
    }
}