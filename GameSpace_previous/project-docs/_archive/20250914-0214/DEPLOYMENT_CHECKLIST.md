# GameSpace 系統部署檢查清單

## 部署前檢查

### 1. 系統需求檢查
- [ ] .NET 8.0 Runtime 已安裝
- [ ] SQL Server 2022 或更高版本已安裝並運行
- [ ] IIS 或 Kestrel 已配置
- [ ] 防火牆規則已設定（端口 80, 443, 1433）
- [ ] SSL 憑證已準備（生產環境）

### 2. 資料庫檢查
- [ ] 資料庫連線字串已配置
- [ ] 資料庫使用者權限已設定
- [ ] 種子資料已執行
- [ ] 資料庫備份策略已建立
- [ ] 索引優化已完成

### 3. 應用程式配置檢查
- [ ] `appsettings.json` 已配置
- [ ] `appsettings.Production.json` 已配置
- [ ] 連線字串已設定
- [ ] 日誌配置已設定
- [ ] 快取配置已設定

### 4. 安全檢查
- [ ] JWT 密鑰已設定
- [ ] CORS 政策已配置
- [ ] 速率限制已啟用
- [ ] 輸入驗證已啟用
- [ ] SQL 注入防護已啟用

### 5. 效能檢查
- [ ] 效能監控已啟用
- [ ] 快取策略已配置
- [ ] 資料庫查詢已優化
- [ ] 靜態檔案已壓縮
- [ ] CDN 已配置（如適用）

## 部署步驟

### 1. 資料庫部署
```sql
-- 1. 建立資料庫
CREATE DATABASE GameSpace;

-- 2. 執行資料庫架構（database_unchangeable.txt）
-- 3. 執行種子資料（seed_hyper_real_independent_v2_chunked.sql）
-- 4. 建立索引優化
-- 5. 設定備份任務
```

### 2. 應用程式部署
```bash
# 1. 發佈應用程式
dotnet publish -c Release -o ./publish

# 2. 複製檔案到伺服器
# 3. 設定 IIS 或 Kestrel
# 4. 配置環境變數
# 5. 啟動應用程式
```

### 3. 監控設定
```bash
# 1. 啟用健康檢查
curl https://your-domain.com/healthz

# 2. 檢查效能監控
curl https://your-domain.com/api/health/detailed

# 3. 設定監控警報
# 4. 配置日誌聚合
# 5. 設定備份監控
```

## 部署後驗證

### 1. 功能驗證
- [ ] 首頁載入正常
- [ ] 使用者註冊/登入功能正常
- [ ] 錢包系統功能正常
- [ ] 論壇功能正常
- [ ] 管理後台功能正常
- [ ] API 端點回應正常

### 2. 效能驗證
- [ ] 頁面載入時間 < 3 秒
- [ ] API 響應時間 < 1 秒
- [ ] 資料庫查詢時間 < 500ms
- [ ] 記憶體使用率 < 80%
- [ ] CPU 使用率 < 70%

### 3. 安全驗證
- [ ] HTTPS 重定向正常
- [ ] 認證機制正常
- [ ] 權限控制正常
- [ ] 輸入驗證正常
- [ ] 錯誤處理正常

### 4. 監控驗證
- [ ] 健康檢查端點正常
- [ ] 效能監控正常
- [ ] 日誌記錄正常
- [ ] 警報機制正常
- [ ] 備份任務正常

## 運維檢查清單

### 每日檢查
- [ ] 系統健康狀況
- [ ] 效能指標
- [ ] 錯誤日誌
- [ ] 備份狀態
- [ ] 安全事件

### 每週檢查
- [ ] 效能趨勢分析
- [ ] 資料庫維護
- [ ] 安全更新
- [ ] 容量規劃
- [ ] 災難恢復測試

### 每月檢查
- [ ] 完整系統備份
- [ ] 效能優化評估
- [ ] 安全審計
- [ ] 容量評估
- [ ] 災難恢復演練

## 故障排除

### 常見問題
1. **資料庫連線失敗**
   - 檢查連線字串
   - 檢查資料庫服務狀態
   - 檢查網路連線

2. **效能問題**
   - 檢查資料庫查詢
   - 檢查快取設定
   - 檢查系統資源

3. **認證問題**
   - 檢查 JWT 設定
   - 檢查使用者權限
   - 檢查會話管理

4. **監控問題**
   - 檢查監控服務狀態
   - 檢查日誌配置
   - 檢查警報設定

### 緊急處理
1. **系統當機**
   - 重啟應用程式
   - 檢查系統資源
   - 檢查錯誤日誌

2. **資料庫問題**
   - 檢查資料庫服務
   - 檢查連線池
   - 執行資料庫修復

3. **安全事件**
   - 立即隔離系統
   - 檢查安全日誌
   - 通知安全團隊

## 聯絡資訊

### 開發團隊
- 專案負責人：[姓名]
- 技術主管：[姓名]
- 資料庫管理員：[姓名]

### 運維團隊
- 系統管理員：[姓名]
- 網路管理員：[姓名]
- 安全管理員：[姓名]

### 緊急聯絡
- 24/7 支援熱線：[電話]
- 緊急郵件：[email]
- 內部通訊：[頻道]

---

**文件版本**: 1.0  
**建立日期**: 2025-01-09  
**最後更新**: 2025-01-09  
**負責人**: GameSpace 開發團隊